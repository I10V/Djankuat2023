"0","bed = bed_load %>% transmute(date = lubridate::date(date), bsd, D50_A, bsd_B, D50_B)"
"0","bed_susp_2007_2023 = suspended_load %>% left_join(bed) %>% mutate(year1 = year(date), q = q, month1  = month(date)) %>% "
"0","  #subset(year1 > 2014 & year1 < 2024)"
"0","  subset(year1 == 2023 | year1 == 2016 | year1 == 2017 | year1 == 2015 |  year1 == 2019) %>% "
"0","  subset(month1 > 5 & month1 < 10)"
"2","Joining with `by = join_by(date)`"
"0","djan_sed_all = bed_susp_2007_2023 %>% subset(year1 == 2016 | year1 == 2017 | year1 == 2023) %>% transmute(date, bsd, ssd, q, tsd = bsd + ssd) %>% na.omit()"
"0",""
"0","bed_susp_2007_2023 = bed_susp_2007_2023 %>% mutate("
"0","  g = ifelse(q <1, 0.0235*q , ifelse(q > 2.5 ,0.53, 0.0036*exp(2.0269 * q)))*60*60*24/1000000"
"0","  ,tsd = (ssd + g)*60*60*24/1000000 "
"0","  ,dolya  = g/(ssd+g)"
"0","  ,sediment_budget = ifelse(q > 1, 0.0918*q*q - 0.1704*q + 0.08, 0)"
"0",")"
"0",""
"0","rm(bed)"
